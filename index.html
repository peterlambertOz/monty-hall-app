<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monty Hall Problem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .mode-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mode-btn.active {
            background: #667eea;
            color: white;
        }

        .mode-content {
            display: none;
        }

        .mode-content.active {
            display: block;
        }

        /* Interactive Game Styles */
        .game-status {
            text-align: center;
            margin-bottom: 20px;
            min-height: 60px;
        }

        .game-status h2 {
            color: #667eea;
            font-size: 22px;
            margin-bottom: 8px;
        }

        .game-status p {
            color: #666;
            font-size: 15px;
        }

        .doors-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .door {
            width: 100px;
            height: 140px;
            background: linear-gradient(145deg, #8b5cf6, #6d28d9);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .door:hover:not(.revealed):not(.disabled) {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .door.selected {
            border: 4px solid #fbbf24;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }

        .door.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .door.revealed {
            background: white;
            border: 2px solid #ddd;
        }

        .door-number {
            font-size: 24px;
            font-weight: bold;
            color: white;
            margin-bottom: 10px;
        }

        .door.revealed .door-number {
            color: #333;
        }

        .door-icon {
            font-size: 50px;
            display: none;
        }

        .door.revealed .door-icon {
            display: block;
        }

        .door.revealed .door-number {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #10b981;
            color: white;
        }

        .btn-secondary:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #6b7280;
            color: white;
        }

        .btn-reset:hover {
            background: #4b5563;
            transform: translateY(-2px);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid #e5e7eb;
        }

        .stat-box {
            text-align: center;
            padding: 15px;
            background: #f9fafb;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 13px;
            color: #666;
            margin-top: 5px;
        }

        /* Simulation Styles */
        .simulation-controls {
            text-align: center;
            margin-bottom: 25px;
        }

        .simulation-results {
            margin-top: 25px;
        }

        .strategy-result {
            margin-bottom: 25px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 10px;
        }

        .strategy-title {
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 15px;
        }

        .bar-container {
            background: #e5e7eb;
            height: 40px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            margin: 10px 0;
        }

        .bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: 600;
            transition: width 1s ease-out;
        }

        .result-text {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 14px;
            color: #666;
        }

        .comparison {
            margin-top: 25px;
            padding: 20px;
            background: #ecfdf5;
            border-left: 4px solid #10b981;
            border-radius: 10px;
        }

        .comparison h3 {
            color: #059669;
            margin-bottom: 10px;
        }

        .comparison p {
            color: #065f46;
            line-height: 1.6;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px 15px;
            }

            h1 {
                font-size: 24px;
            }

            .door {
                width: 90px;
                height: 130px;
            }

            .door-number {
                font-size: 20px;
            }

            .door-icon {
                font-size: 40px;
            }

            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }

            .stats {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöó The Monty Hall Problem</h1>
        <p class="subtitle">Should you switch doors or keep your choice?</p>

        <div class="mode-toggle">
            <button class="mode-btn active" onclick="switchMode('play')">Play Game</button>
            <button class="mode-btn" onclick="switchMode('simulate')">Run Simulation</button>
        </div>

        <!-- Interactive Game Mode -->
        <div id="play-mode" class="mode-content active">
            <div class="game-status">
                <p style="color: #666; margin-bottom: 15px;">Behind one of these doors is a car üöó and behind the other two is a goat üêê.</p>
                <p id="game-instruction">Pick one of the three doors to find the car üöó</p>
                <h2 id="game-message">Choose a door!</h2>
            </div>

            <div class="doors-container" id="doors">
                <div class="door" onclick="selectDoor(0)">
                    <div class="door-number">1</div>
                    <div class="door-icon" id="icon-0"></div>
                </div>
                <div class="door" onclick="selectDoor(1)">
                    <div class="door-number">2</div>
                    <div class="door-icon" id="icon-1"></div>
                </div>
                <div class="door" onclick="selectDoor(2)">
                    <div class="door-number">3</div>
                    <div class="door-icon" id="icon-2"></div>
                </div>
            </div>

            <div class="action-buttons" id="decision-buttons" style="display: none;">
                <button class="btn btn-primary" onclick="makeDecision('keep')">Keep Door</button>
                <button class="btn btn-secondary" onclick="makeDecision('switch')">Switch Door</button>
            </div>

            <div class="action-buttons" id="reset-button" style="display: none;">
                <button class="btn btn-reset" onclick="resetGame()">Play Again</button>
            </div>

            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="total-games">0</div>
                    <div class="stat-label">Games Played</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="total-wins">0</div>
                    <div class="stat-label">Wins</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="win-rate">0%</div>
                    <div class="stat-label">Win Rate</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="times-kept">0</div>
                    <div class="stat-label">Times Kept</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="times-switched">0</div>
                    <div class="stat-label">Times Switched</div>
                </div>
            </div>

            <div class="action-buttons" style="margin-top: 20px;">
                <button class="btn btn-reset" onclick="clearStats()">Clear Statistics</button>
            </div>
        </div>

        <!-- Simulation Mode -->
        <div id="simulate-mode" class="mode-content">
            <div class="simulation-controls">
                <p style="color: #666; margin-bottom: 20px;">
                    Run 100 games for each strategy and compare the results
                </p>
                <button class="btn btn-primary" onclick="runSimulation()">Run 100 Simulations</button>
            </div>

            <div class="simulation-results" id="sim-results" style="display: none;">
                <div class="strategy-result">
                    <div class="strategy-title">Always KEEP Strategy</div>
                    <div class="bar-container">
                        <div class="bar" id="keep-bar" style="width: 0%">
                            <span id="keep-percent">0%</span>
                        </div>
                    </div>
                    <div class="result-text">
                        <span id="keep-wins">0 wins</span>
                        <span id="keep-losses">100 losses</span>
                    </div>
                </div>

                <div class="strategy-result">
                    <div class="strategy-title">Always SWITCH Strategy</div>
                    <div class="bar-container">
                        <div class="bar" id="switch-bar" style="width: 0%">
                            <span id="switch-percent">0%</span>
                        </div>
                    </div>
                    <div class="result-text">
                        <span id="switch-wins">0 wins</span>
                        <span id="switch-losses">100 losses</span>
                    </div>
                </div>

                <div class="comparison">
                    <h3>üìä Analysis</h3>
                    <p id="analysis-text"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            carDoor: -1,
            selectedDoor: -1,
            revealedDoor: -1,
            phase: 'select', // select, decide, reveal
            totalGames: 0,
            totalWins: 0,
            keepWins: 0,
            switchWins: 0,
            timesKept: 0,
            timesSwitched: 0
        };

        // Initialize game
        function initGame() {
            gameState.carDoor = Math.floor(Math.random() * 3);
            gameState.selectedDoor = -1;
            gameState.revealedDoor = -1;
            gameState.phase = 'select';
            
            // Reset doors
            const doors = document.querySelectorAll('.door');
            doors.forEach((door, index) => {
                door.classList.remove('selected', 'revealed', 'disabled');
                door.onclick = () => selectDoor(index);
                document.getElementById(`icon-${index}`).textContent = '';
            });

            document.getElementById('game-message').textContent = 'Choose a door!';
            document.getElementById('game-instruction').textContent = 'Pick one of the three doors to find the car üöó';
            document.getElementById('decision-buttons').style.display = 'none';
            document.getElementById('reset-button').style.display = 'none';
        }

        // Select a door
        function selectDoor(doorIndex) {
            if (gameState.phase !== 'select') return;

            gameState.selectedDoor = doorIndex;
            gameState.phase = 'decide';

            // Mark selected door
            const doors = document.querySelectorAll('.door');
            doors.forEach((door, index) => {
                if (index === doorIndex) {
                    door.classList.add('selected');
                }
            });

            // Reveal a goat door
            revealGoatDoor();

            document.getElementById('game-message').textContent = 'A goat is revealed! üêê';
            document.getElementById('game-instruction').textContent = 'Do you want to keep your choice or switch?';
            document.getElementById('decision-buttons').style.display = 'flex';
        }

        // Reveal a door with a goat
        function revealGoatDoor() {
            const availableDoors = [0, 1, 2].filter(
                door => door !== gameState.selectedDoor && door !== gameState.carDoor
            );
            
            gameState.revealedDoor = availableDoors[Math.floor(Math.random() * availableDoors.length)];
            
            const door = document.querySelectorAll('.door')[gameState.revealedDoor];
            door.classList.add('revealed', 'disabled');
            door.onclick = null;
            document.getElementById(`icon-${gameState.revealedDoor}`).textContent = 'üêê';
        }

        // Make final decision
        function makeDecision(choice) {
            if (gameState.phase !== 'decide') return;

            gameState.phase = 'reveal';
            let finalDoor = gameState.selectedDoor;

            if (choice === 'switch') {
                // Switch to the other unopened door
                finalDoor = [0, 1, 2].find(
                    door => door !== gameState.selectedDoor && door !== gameState.revealedDoor
                );
                
                const doors = document.querySelectorAll('.door');
                doors[gameState.selectedDoor].classList.remove('selected');
                doors[finalDoor].classList.add('selected');
                gameState.selectedDoor = finalDoor;
                gameState.timesSwitched++;
            } else {
                gameState.timesKept++;
            }

            // Reveal all doors
            revealAllDoors();

            // Check if won
            const won = finalDoor === gameState.carDoor;
            gameState.totalGames++;
            if (won) {
                gameState.totalWins++;
                if (choice === 'keep') gameState.keepWins++;
                else gameState.switchWins++;
            }

            updateStats();

            // Update message
            if (won) {
                document.getElementById('game-message').textContent = 'üéâ You Won! You found the car!';
                document.getElementById('game-instruction').textContent = `You chose to ${choice} and won!`;
            } else {
                document.getElementById('game-message').textContent = 'üòî You Lost! It was a goat!';
                document.getElementById('game-instruction').textContent = `You chose to ${choice} but lost.`;
            }

            document.getElementById('decision-buttons').style.display = 'none';
            document.getElementById('reset-button').style.display = 'flex';
        }

        // Reveal all doors
        function revealAllDoors() {
            const doors = document.querySelectorAll('.door');
            doors.forEach((door, index) => {
                if (index !== gameState.revealedDoor) {
                    door.classList.add('revealed', 'disabled');
                    door.onclick = null;
                    const icon = index === gameState.carDoor ? 'üöó' : 'üêê';
                    document.getElementById(`icon-${index}`).textContent = icon;
                }
            });
        }

        // Update statistics
        function updateStats() {
            document.getElementById('total-games').textContent = gameState.totalGames;
            document.getElementById('total-wins').textContent = gameState.totalWins;
            const winRate = gameState.totalGames > 0 
                ? Math.round((gameState.totalWins / gameState.totalGames) * 100) 
                : 0;
            document.getElementById('win-rate').textContent = winRate + '%';
            document.getElementById('times-kept').textContent = gameState.timesKept;
            document.getElementById('times-switched').textContent = gameState.timesSwitched;
        }

        // Reset game
        function resetGame() {
            initGame();
        }

        // Clear statistics
        function clearStats() {
            gameState.totalGames = 0;
            gameState.totalWins = 0;
            gameState.keepWins = 0;
            gameState.switchWins = 0;
            gameState.timesKept = 0;
            gameState.timesSwitched = 0;
            updateStats();
        }

        // Switch mode
        function switchMode(mode) {
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (mode === 'play') {
                buttons[0].classList.add('active');
                document.getElementById('play-mode').classList.add('active');
                document.getElementById('simulate-mode').classList.remove('active');
            } else {
                buttons[1].classList.add('active');
                document.getElementById('play-mode').classList.remove('active');
                document.getElementById('simulate-mode').classList.add('active');
            }
        }

        // Run simulation
        function runSimulation() {
            const runs = 100;
            let keepWins = 0;
            let switchWins = 0;

            // Simulate keeping strategy
            for (let i = 0; i < runs; i++) {
                const carDoor = Math.floor(Math.random() * 3);
                const selectedDoor = Math.floor(Math.random() * 3);
                
                if (selectedDoor === carDoor) {
                    keepWins++;
                }
            }

            // Simulate switching strategy
            for (let i = 0; i < runs; i++) {
                const carDoor = Math.floor(Math.random() * 3);
                const selectedDoor = Math.floor(Math.random() * 3);
                
                // Monty reveals a goat door
                const availableDoors = [0, 1, 2].filter(
                    door => door !== selectedDoor && door !== carDoor
                );
                const revealedDoor = availableDoors[Math.floor(Math.random() * availableDoors.length)];
                
                // Switch to other door
                const switchedDoor = [0, 1, 2].find(
                    door => door !== selectedDoor && door !== revealedDoor
                );
                
                if (switchedDoor === carDoor) {
                    switchWins++;
                }
            }

            // Display results
            displaySimulationResults(keepWins, switchWins, runs);
        }

        // Display simulation results
        function displaySimulationResults(keepWins, switchWins, total) {
            const keepPercent = Math.round((keepWins / total) * 100);
            const switchPercent = Math.round((switchWins / total) * 100);
            const keepLosses = total - keepWins;
            const switchLosses = total - switchWins;

            document.getElementById('sim-results').style.display = 'block';

            // Animate bars
            setTimeout(() => {
                document.getElementById('keep-bar').style.width = keepPercent + '%';
                document.getElementById('keep-percent').textContent = keepPercent + '%';
                document.getElementById('keep-wins').textContent = keepWins + ' wins';
                document.getElementById('keep-losses').textContent = keepLosses + ' losses';

                document.getElementById('switch-bar').style.width = switchPercent + '%';
                document.getElementById('switch-percent').textContent = switchPercent + '%';
                document.getElementById('switch-wins').textContent = switchWins + ' wins';
                document.getElementById('switch-losses').textContent = switchLosses + ' losses';
            }, 100);

            // Analysis text
            const advantage = switchPercent - keepPercent;
            const analysisText = `The "Always Switch" strategy won ${switchPercent}% of games, ` +
                `while "Always Keep" won only ${keepPercent}% of games. ` +
                `Switching gives you a ${advantage}% advantage! ` +
                `This demonstrates that switching doors gives you a 2/3 (‚âà66.7%) probability of winning, ` +
                `while keeping your original choice only gives you a 1/3 (‚âà33.3%) probability.`;
            
            document.getElementById('analysis-text').textContent = analysisText;
        }

        // Initialize on load
        initGame();
    </script>
</body>
</html>
